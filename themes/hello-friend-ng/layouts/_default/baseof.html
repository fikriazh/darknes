<!DOCTYPE html>
<html lang="{{ .Site.Language }}">
    <head>
        {{ partial "head.html" . }}
    </head>
    
    {{ block "body" . }}
        <body class="{{ if ne $.Site.Params.defaultTheme "light" -}} dark-theme {{- end -}}">
    {{ end }}
    
        <div class="container">
            {{ partial "header.html" . }}

            <div class="content">
                {{ block "main" . }}{{ end }}
            </div>

            {{ block "footer" . }}
                {{ partial "footer.html" . }}
            {{ end }}
        </div>

        {{ partial "javascript.html" . }}

        {{if eq .Page.Title "Search"}}
        
        <script type="text/javascript">
            
            if (window.navigator.userAgent.indexOf('Trident/') > 0) {
              let urls = [
                {{ "js/libs/iecompat/promises.min.js" | relLangURL }},
                {{ "js/libs/iecompat/fetch.min.js" | relLangURL }},
                {{ "js/libs/iecompat/template.min.js" | relLangURL }},
                {{ "js/libs/iecompat/remove.min.js" | relLangURL }}
              ];
              let head = document.getElementsByTagName("head")[0];
              urls.forEach(function(url) {
                let script = document.createElement("script");
                script.src = url;
                head.appendChild(script);
              });
            }
            
        </script>
        
        <script src={{ "js/libs/fuse.js/3.2.1/fuse.min.js" | relLangURL }}></script>
        <script src={{ "js/libs/mark.js/9.0.0/mark.min.js" | relLangURL }}></script>
    
        {{ $search_js_md5 := (readFile "themes/hugo-search-fuse-js/static/js/search.js" | md5) }}
        <script src={{ printf "%s?%s" ("js/search.js" | relLangURL) $search_js_md5 }}></script>

        {{end}}

        <script async defer>
            var installComponent = document.createElement("pwa-install");
            document.body.appendChild(installComponent);
            installComponent.getInstalledStatus();
        </script>
        
    </body>
</html>
